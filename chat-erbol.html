<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
<title>TimeStudy</title>
  <link rel="icon" type="image/png" href="media/off_logo.png" />
  <link rel="stylesheet" href="css/chat.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header class="header">
  <div class="container">
    <div class="logo">TIMESTUDY</div>
    <nav class="nav">
      <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="schedule.html">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
      <a href="teacher-contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
      <span id="user-info"></span>
    </nav>
  </div>
</header>

<section class="chat-section">
  <div class="chat-container" id="chat-container">
    <!-- –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ—è–≤–ª—è—é—Ç—Å—è –∑–¥–µ—Å—å -->
  </div>

  <div class="chat-input">
    <input type="text" id="message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." />
    <button onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </div>
</section>

<footer style="background: #e8f9fd; color: #333; padding: 60px 20px 20px 20px;">
  <div style="max-width: 1200px; margin: 0 auto; display: grid; gap: 40px; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">

    <!-- –û –∫–æ–º–ø–∞–Ω–∏–∏ -->
    <div>
      <h3 style="font-size: 20px; font-weight: 600; margin-bottom: 15px; color: rgb(9, 185, 244);">TimeStudy</h3>
      <p style="color: #555; font-size: 15px;">
        –û–Ω–ª–∞–π–Ω-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è. –ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏ –¥–ª—è —à–∫–æ–ª—å–Ω–∏–∫–æ–≤ –∏ –∏—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π.
      </p>
    </div>

    <!-- –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ -->
    <div>
      <h4 style="font-size: 18px; font-weight: 600; margin-bottom: 15px; color: rgb(9, 185, 244);">–°—Å—ã–ª–∫–∏</h4>
      <ul style="list-style: none; padding: 0;">
        <li><a href="index.html" style="color: #555; text-decoration: none;">–ì–ª–∞–≤–Ω–∞—è</a></li>
        <li><a href="subjects-school.html" style="color: #555; text-decoration: none;">–ö—É—Ä—Å—ã</a></li>
        <li><a href="contacts.html" style="color: #555; text-decoration: none;">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
        <li><a href="premium.html" style="color: #555; text-decoration: none;">–ü—Ä–µ–º–∏—É–º</a></li>
      </ul>
    </div>

    <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
    <div>
      <h4 style="font-size: 18px; font-weight: 600; margin-bottom: 15px; color: rgb(9, 185, 244);">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
      <ul style="list-style: none; padding: 0; color: #555;">
        <li>üìû +7 (777) 123-4567</li>
        <li>‚úâÔ∏è support@timestudy.kz</li>
        <li>üìç –ê–ª–º–∞—Ç—ã, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω</li>
      </ul>
    </div>

  </div>

  <div style="margin-top: 40px; border-top: 1px solid #ccc; padding-top: 20px; text-align: center; font-size: 14px; color: #777;">
    ¬© 2025 TimeStudy. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
  </div>
</footer>

<script src="js/script.js"></script>

<script>
    function loadMessages() {
      const isTeacher = localStorage.getItem('userRole') === 'teacher'; // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫—Ç–æ —Å–∏–¥–∏—Ç
      const key = window.location.pathname.includes('nursultan') ? 'messages_nursultan' : 'messages_erbol';
      const messages = JSON.parse(localStorage.getItem(key)) || [];
      const container = document.getElementById('chat-container');
      container.innerHTML = '';
    
      messages.forEach(msg => {
        const div = document.createElement('div');
        div.className = 'chat-message ' + (msg.sender === 'teacher' ? 'teacher' : 'student');
        div.innerText = msg.text;
        container.appendChild(div);
      });
    }
    
    function sendMessage() {
      const input = document.getElementById('message-input');
      const text = input.value.trim();
      if (text !== '') {
        const key = window.location.pathname.includes('nursultan') ? 'messages_nursultan' : 'messages_erbol';
        let messages = JSON.parse(localStorage.getItem(key)) || [];
        const isTeacher = localStorage.getItem('userRole') === 'teacher';
    
        messages.push({ sender: isTeacher ? 'teacher' : 'student', text: text });
        localStorage.setItem(key, JSON.stringify(messages));
        input.value = '';
        loadMessages();
      }
    }
    
    document.addEventListener('DOMContentLoaded', loadMessages);
    </script>
    

</body>
</html>
